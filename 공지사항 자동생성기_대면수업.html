<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ëŒ€ë©´ìˆ˜ì—… ì¼ì • ê³µì§€ì‚¬í•­ ìƒì„±ê¸° (Modern)</title>
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body { font-family: 'Pretendard', 'Malgun Gothic', sans-serif; background-color: #f3f4f6; }
    .input-group label { font-size: 0.875rem; font-weight: 600; color: #374151; margin-bottom: 0.25rem; display: block; }
    .input-group input, .input-group select { width: 100%; padding: 0.5rem; border: 1px solid #d1d5db; border-radius: 0.375rem; font-size: 0.875rem; transition: border-color 0.2s; }
    .input-group input:focus { outline: none; border-color: #4f46e5; ring: 2px solid #c7d2fe; } /* Indigo theme */
    .preview-box { background: white; border: 1px solid #e5e7eb; padding: 20px; border-radius: 8px; min-height: 300px; box-shadow: inset 0 2px 4px 0 rgba(0, 0, 0, 0.06); }
    
    /* Table Styles for Generator UI */
    .matrix-table th, .matrix-table td { border: 1px solid #e5e7eb; padding: 4px; text-align: center; white-space: nowrap; }
    .matrix-table th { background-color: #f9fafb; font-size: 0.75rem; color: #4b5563; position: sticky; top: 0; z-index: 10; }
    .matrix-table td input[type="date"] { font-size: 0.75rem; padding: 2px; width: 105px; }
    .matrix-table td input[type="checkbox"] { transform: scale(0.9); cursor: pointer; }
    .table-container { overflow-x: auto; max-height: 500px; overflow-y: auto; border: 1px solid #d1d5db; border-radius: 6px; }
  </style>
</head>
<body class="p-4 md:p-8">

<div class="max-w-[1600px] mx-auto grid grid-cols-1 xl:grid-cols-2 gap-8">
  
  <!-- Left Column: Settings -->
  <div class="bg-white rounded-xl shadow-lg p-6 h-fit">
    <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b pb-2"><i class="fa-solid fa-chalkboard-user text-indigo-600 mr-2"></i>ëŒ€ë©´ìˆ˜ì—… ê³µì§€ì‚¬í•­</h2>

    <!-- 1. Title Config -->
    <div class="bg-indigo-50 p-4 rounded-lg mb-6 border border-indigo-100">
      <h3 class="font-bold text-indigo-800 mb-3 text-sm">ğŸ“Œ ì œëª© ì„¤ì •</h3>
      <div class="flex gap-2 mb-2">
        <div class="input-group flex-1">
          <input type="number" id="year" placeholder="2026" onchange="updateTitle()">
        </div>
        <span class="self-center font-bold text-gray-500">ë…„</span>
        <div class="input-group w-20">
          <input type="number" id="semester" placeholder="1" onchange="updateTitle()">
        </div>
        <span class="self-center font-bold text-gray-500">í•™ê¸°</span>
        <div class="input-group w-20">
          <input type="number" id="batch" placeholder="6" onchange="updateTitle()">
        </div>
        <span class="self-center font-bold text-gray-500">ì°¨</span>
      </div>
      <div class="flex gap-2 items-center">
        <span class="text-sm font-bold text-gray-600">ê°œê°•ë°˜(ì›”ì¼):</span>
        <div class="input-group flex-1">
          <input type="date" id="startDate" onchange="updateTitle()">
        </div>
      </div>
      <div class="mt-3 input-group">
        <label>ìƒì„±ë  ì œëª© ë¯¸ë¦¬ë³´ê¸°</label>
        <input type="text" id="title" class="bg-gray-100 text-gray-600 cursor-not-allowed" readonly>
      </div>
    </div>

    <!-- 2. Schedule Matrix -->
    <div class="mb-6">
      <div class="flex justify-between items-end mb-2">
        <label class="font-bold text-gray-700">ğŸ“š ê°•ì˜ ì¼ì •í‘œ (ìë™ ê³„ì‚°)</label>
        <div class="text-xs text-right">
           <span class="text-indigo-600 font-bold">* [ë†€ì´ì§€ë„-ì„œìš¸]</span> ë‚ ì§œ ì„ íƒ ì‹œ ì „ì²´ ìë™ ê³„ì‚°
        </div>
      </div>
      
      <!-- Scrollable Matrix Container -->
      <div class="table-container mb-2">
        <table class="w-full matrix-table" id="scheduleMatrix">
            <!-- Headers and rows generated by JS -->
        </table>
      </div>
      <p class="text-xs text-gray-400">â€» ì²´í¬ë°•ìŠ¤ ì„ íƒ ì‹œ 'ë¯¸ê°œê°•'ìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤.</p>
    </div>

    <!-- 3. Location Management -->
    <div class="mb-6 border-t pt-4">
      <div class="flex justify-between items-center mb-2">
        <label class="font-bold text-gray-700">ğŸ“ ëŒ€ë©´ìˆ˜ì—… ì¥ì†Œ ë“±ë¡</label>
        <button onclick="addLocationRow()" class="bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded text-sm transition"><i class="fa-solid fa-plus"></i> ì¥ì†Œ ì¶”ê°€</button>
      </div>
      <div class="border rounded-lg overflow-hidden">
        <table class="w-full text-sm text-left text-gray-500">
            <thead class="bg-gray-50 text-xs uppercase text-gray-700">
                <tr>
                    <th class="px-3 py-2">ì§€ì—­</th>
                    <th class="px-3 py-2">ì¥ì†Œëª…</th>
                    <th class="px-3 py-2">ì£¼ì†Œ/ì§€ë„</th>
                    <th class="px-3 py-2 w-10">ì‚­ì œ</th>
                </tr>
            </thead>
            <tbody id="locationTableBody">
                <!-- Location rows added here -->
            </tbody>
        </table>
      </div>
    </div>

    <button onclick="generateHTML()" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-4 rounded-lg shadow transition text-lg">
      <i class="fa-solid fa-wand-magic-sparkles mr-2"></i> ê³µì§€ì‚¬í•­ HTML ìƒì„±í•˜ê¸°
    </button>
  </div>

  <!-- Right Column: Preview & Code -->
  <div class="flex flex-col gap-6">
    
    <!-- Code Output -->
    <div class="bg-white rounded-xl shadow-lg p-6">
        <div class="flex justify-between items-center mb-4">
            <h2 class="text-xl font-bold text-gray-800"><i class="fa-solid fa-code text-purple-600 mr-2"></i>HTML ì†ŒìŠ¤ì½”ë“œ</h2>
            <button onclick="copyOutput()" class="bg-gray-800 hover:bg-gray-900 text-white px-4 py-2 rounded text-sm transition">
                <i class="fa-regular fa-copy mr-1"></i> ì½”ë“œ ë³µì‚¬
            </button>
        </div>
        <textarea id="output" class="w-full h-40 p-3 border rounded-lg bg-gray-50 text-xs font-mono resize-none focus:ring-2 focus:ring-purple-200 focus:border-purple-500" readonly placeholder="ì¢Œì¸¡ì—ì„œ 'ìƒì„±í•˜ê¸°' ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì½”ë“œê°€ ë‚˜íƒ€ë‚©ë‹ˆë‹¤."></textarea>
    </div>

    <!-- Live Preview -->
    <div class="bg-white rounded-xl shadow-lg p-6 flex-1">
        <h2 class="text-xl font-bold text-gray-800 mb-4"><i class="fa-solid fa-eye text-green-600 mr-2"></i>ë””ìì¸ ë¯¸ë¦¬ë³´ê¸°</h2>
        <div id="livePreview" class="preview-box overflow-y-auto max-h-[800px]">
            <div class="flex flex-col items-center justify-center h-full text-gray-400">
                <i class="fa-solid fa-arrow-left text-3xl mb-2"></i>
                <p>ì¢Œì¸¡ ë‚´ìš©ì„ ì…ë ¥í•˜ê³  ìƒì„± ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.</p>
            </div>
        </div>
    </div>
  </div>
</div>

<!-- Location Row Template -->
<template id="locationRowTemplate">
    <tr class="bg-white border-b hover:bg-gray-50">
        <td class="px-2 py-2 w-24">
            <select class="regionSelect w-full border rounded p-1 text-xs" onchange="updateLocationList(this)">
                <option value="">ì„ íƒ</option>
                <option value="ì„œìš¸">ì„œìš¸</option>
                <option value="ê´‘ì£¼">ê´‘ì£¼</option>
                <option value="ëŒ€êµ¬">ëŒ€êµ¬</option>
                <option value="ë¶€ì‚°">ë¶€ì‚°</option>
                <option value="ëŒ€ì „">ëŒ€ì „</option>
                <option value="ì¸ì²œ">ì¸ì²œ</option>
                <option value="ìˆ˜ì›">ìˆ˜ì›</option>
            </select>
        </td>
        <td class="px-2 py-2 w-32">
            <select class="locationSelect w-full border rounded p-1 text-xs" onchange="updateLocationDetails(this)">
                <option value="">ì¥ì†Œ ì„ íƒ</option>
            </select>
        </td>
        <td class="px-2 py-2">
            <div class="text-xs text-gray-600 addressDisplay"></div>
            <a href="#" target="_blank" class="text-xs text-blue-500 hover:underline mapLink hidden">ğŸ”— ì§€ë„ë³´ê¸°</a>
        </td>
        <td class="px-2 py-2 text-center">
            <button onclick="deleteRow(this)" class="text-red-500 hover:text-red-700"><i class="fa-solid fa-trash"></i></button>
        </td>
    </tr>
</template>

<script>
    // --- Data & Config ---
    const subjects = ["ë†€ì´ì§€ë„", "ë³´ìœ¡êµì‚¬ë¡ ", "ì•„ë™ê´€ì°°ë°í–‰ë™ì—°êµ¬", "ì•„ë™ê¶Œë¦¬ì™€ë³µì§€", "ì•„ë™ìˆ˜í•™ì§€ë„", "ì•„ë™ì•ˆì „ê´€ë¦¬", "ì•„ë™ìŒì•…", "ì–¸ì–´ì§€ë„"];
    const regions = ["ì„œìš¸", "ê´‘ì£¼", "ëŒ€êµ¬", "ë¶€ì‚°", "ëŒ€ì „", "ì¸ì²œ", "ìˆ˜ì›"];
    
    // Schedule Pattern (Subject Indices per Region per Week)
    // 0:ë†€ì´, 1:ë³´ìœ¡, 2:ê´€ì°°, 3:ê¶Œë¦¬, 4:ìˆ˜í•™, 5:ì•ˆì „, 6:ìŒì•…, 7:ì–¸ì–´
    const schedulePattern = [
        [0, 1, 2, 3, 4, 5, 6, 7], // ì„œìš¸
        [2, 3, 4, 5, 6, 7, 0, 1], // ê´‘ì£¼
        [4, 5, 6, 7, 0, 1, 2, 3], // ëŒ€êµ¬
        [6, 7, 0, 1, 2, 3, 4, 5], // ë¶€ì‚°
        [1, 2, 3, 4, 5, 6, 7, 0], // ëŒ€ì „
        [3, 4, 5, 6, 7, 0, 1, 2], // ì¸ì²œ
        [5, 6, 7, 0, 1, 2, 3, 4]  // ìˆ˜ì›
    ];

    const locations = {
        "ì„œìš¸": [
            { name: "ë¯¸ì •", address: "ë¯¸ì •", map: "" },
            { name: "ê¹€ì˜í‰ìƒêµìœ¡ì›", address: "ì„œìš¸ ì„œì´ˆêµ¬ ì„œì´ˆëŒ€ë¡œ78ê¸¸ 48 ì†¡ë¦¼ë¹Œë”©", map: "https://map.naver.com/v5/search/%EA%B9%80%EC%98%81%ED%8F%89%EC%83%9D%EA%B5%90%EC%9C%A1%EC%9B%90" }
        ],
        "ê´‘ì£¼": [
            { name: "ë¯¸ì •", address: "ë¯¸ì •", map: "" },
            { name: "ì¡°ì„ ì´ê³µëŒ€í•™êµ", address: "ê´‘ì£¼ê´‘ì—­ì‹œ ë™êµ¬ í•„ë¬¸ëŒ€ë¡œ 309", map: "https://map.naver.com/v5/search/%EC%A1%B0%EC%84%A0%EC%9D%B4%EA%B3%B5%EB%8C%80%ED%95%99%EA%B5%90" },
            { name: "ë™ê°•ëŒ€í•™êµ", address: "ê´‘ì£¼ ë¶êµ¬ ë™ë¬¸ëŒ€ë¡œ 50", map: "https://map.naver.com/p/entry/place/37171268" }
        ],
        "ëŒ€êµ¬": [
            { name: "ë¯¸ì •", address: "ë¯¸ì •", map: "" },
            { name: "ì˜ë‚¨ì´ê³µëŒ€í•™êµ", address: "ëŒ€êµ¬ê´‘ì—­ì‹œ ë‚¨êµ¬ í˜„ì¶©ë¡œ 170", map: "https://map.naver.com/v5/search/%EC%98%81%EB%82%A8%EC%9D%B4%EA%B3%B5%EB%8C%80%ED%95%99%EA%B5%90" }
        ],
        "ë¶€ì‚°": [
            { name: "ë¯¸ì •", address: "ë¯¸ì •", map: "" },
            { name: "ì‹ ë¼ëŒ€í•™êµ", address: "ë¶€ì‚° ì‚¬ìƒêµ¬ ë°±ì–‘ëŒ€ë¡œ700ë²ˆê¸¸ 140", map: "https://map.naver.com/p/search/%EC%8B%A0%EB%9D%BC%EB%8C%80%ED%95%99%EA%B5%90" }
        ],
        "ëŒ€ì „": [
            { name: "ë¯¸ì •", address: "ë¯¸ì •", map: "" },
            { name: "ëŒ€ì „ê³¼í•™ê¸°ìˆ ëŒ€í•™êµ", address: "ëŒ€ì „ ì„œêµ¬ í˜œì²œë¡œ 100", map: "https://map.naver.com/p/search/%EB%8C%80%EC%A0%84%EA%B3%BC%ED%95%99%EA%B8%B0%EC%88%A0%EB%8C%80%ED%95%99%EA%B5%90" }
        ],
        "ì¸ì²œ": [
            { name: "ë¯¸ì •", address: "ë¯¸ì •", map: "" },
            { name: "ì¸ì²œì¬ëŠ¥ëŒ€í•™êµ", address: "ì¸ì²œê´‘ì—­ì‹œ ë‚¨êµ¬ ì¬ëŠ¥ë¡œ 178", map: "https://map.naver.com/v5/search/%EC%9D%B8%EC%B2%9C%EC%9E%AC%EB%8A%A5%EB%8C%80%ED%95%99" }
        ],
        "ìˆ˜ì›": [
            { name: "ë¯¸ì •", address: "ë¯¸ì •", map: "" },
            { name: "ìˆ˜ì›ê³¼í•™ëŒ€í•™êµ", address: "ê²½ê¸°ë„ ìˆ˜ì›ì‹œ ì¥ì•ˆêµ¬ ì²œì²œë¡œ 132", map: "https://map.naver.com/v5/search/%EC%88%98%EC%9B%90%EA%B3%BC%ED%95%99%EB%8C%80%ED%95%99" }
        ]
    };

    // --- Init & UI Generation ---
    window.onload = function() {
        initMatrix();
        addLocationRow(); // Add one default row
        updateTitle();
    };

    function initMatrix() {
        const table = document.getElementById("scheduleMatrix");
        
        // 1. Header Row
        let thead = `<thead class="bg-gray-50"><tr><th class="p-2 border bg-gray-100 min-w-[100px]">ê³¼ëª©</th>`;
        regions.forEach(r => thead += `<th class="p-2 border bg-gray-100 min-w-[120px]">${r}</th>`);
        thead += `</tr></thead>`;
        
        // 2. Body Rows
        let tbody = `<tbody>`;
        subjects.forEach((sub) => {
            tbody += `<tr><td class="font-bold bg-gray-50 text-xs">${sub}</td>`;
            regions.forEach((reg) => {
                // Key ID for inputs: "Subject_Region"
                const id = `${sub}_${reg}`;
                // Special handling for the Trigger Input (Play Guidance - Seoul)
                const isTrigger = (sub === "ë†€ì´ì§€ë„" && reg === "ì„œìš¸");
                const bgClass = isTrigger ? "bg-indigo-50 border-indigo-300" : "";
                
                tbody += `
                    <td class="${bgClass}">
                        <div class="flex items-center justify-center gap-1 mb-1">
                            <input type="checkbox" id="chk_${id}" onchange="toggleDisable('${id}')">
                            <label for="chk_${id}" class="text-[10px] text-gray-500 cursor-pointer">ë¯¸ê°œê°•</label>
                        </div>
                        <input type="date" id="${id}" class="border rounded text-center w-full ${isTrigger ? 'font-bold text-indigo-700' : ''}" 
                               ${isTrigger ? 'onchange="generateSchedule()"' : ''}>
                    </td>`;
            });
            tbody += `</tr>`;
        });
        tbody += `</tbody>`;

        table.innerHTML = thead + tbody;
    }

    // --- Core Logic: Schedule Generation ---
    function generateSchedule() {
        const triggerInput = document.getElementById("ë†€ì´ì§€ë„_ì„œìš¸");
        if (!triggerInput || !triggerInput.value) return;

        let baseDate = new Date(triggerInput.value);
        
        // Iterate through regions
        regions.forEach((region, regIndex) => {
            for (let week = 0; week < 4; week++) {
                // Calculate Saturday & Sunday for this week
                let sat = new Date(baseDate); sat.setDate(baseDate.getDate() + (week * 7));
                let sun = new Date(baseDate); sun.setDate(baseDate.getDate() + (week * 7) + 1);

                // Get Subjects for this region/week based on pattern
                // pattern indices are sequential: [sat, sun, sat, sun...]
                let subIndexSat = schedulePattern[regIndex][week * 2];
                let subIndexSun = schedulePattern[regIndex][week * 2 + 1];

                let subjectSat = subjects[subIndexSat];
                let subjectSun = subjects[subIndexSun];

                // Set Dates
                setInputValue(`${subjectSat}_${region}`, sat);
                setInputValue(`${subjectSun}_${region}`, sun);
            }
        });
    }

    function setInputValue(id, dateObj) {
        const el = document.getElementById(id);
        if (el && !el.disabled) { // Don't overwrite if manually disabled/checked
            el.value = dateObj.toISOString().split('T')[0];
        }
    }

    function toggleDisable(id) {
        const chk = document.getElementById(`chk_${id}`);
        const input = document.getElementById(id);
        if (chk && input) {
            input.disabled = chk.checked;
            if (chk.checked) input.value = "";
        }
    }

    // --- Logic: Location Management ---
    function addLocationRow() {
        const tbody = document.getElementById("locationTableBody");
        const template = document.getElementById("locationRowTemplate");
        const clone = template.content.cloneNode(true);
        tbody.appendChild(clone);
    }

    function deleteRow(btn) {
        if(confirm('ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
            btn.closest("tr").remove();
        }
    }

    function updateLocationList(regionSelect) {
        const row = regionSelect.closest("tr");
        const locSelect = row.querySelector(".locationSelect");
        const region = regionSelect.value;

        locSelect.innerHTML = `<option value="">ì¥ì†Œ ì„ íƒ</option>`;
        
        if (region && locations[region]) {
            locations[region].forEach(loc => {
                const opt = document.createElement("option");
                opt.value = loc.name;
                opt.text = loc.name;
                locSelect.appendChild(opt);
            });
        }
        // Reset details
        updateLocationDetails(locSelect);
    }

    function updateLocationDetails(locSelect) {
        const row = locSelect.closest("tr");
        const region = row.querySelector(".regionSelect").value;
        const locName = locSelect.value;
        const addressDisplay = row.querySelector(".addressDisplay");
        const mapLink = row.querySelector(".mapLink");

        const locData = locations[region]?.find(l => l.name === locName);

        if (locData) {
            addressDisplay.innerText = locData.address;
            if (locData.map) {
                mapLink.href = locData.map;
                mapLink.classList.remove("hidden");
            } else {
                mapLink.classList.add("hidden");
            }
        } else {
            addressDisplay.innerText = "";
            mapLink.classList.add("hidden");
        }
    }

    // --- Logic: Title & HTML Generation ---
    function updateTitle() {
        const year = document.getElementById("year").value;
        const semester = document.getElementById("semester").value;
        const batch = document.getElementById("batch").value;
        const date = document.getElementById("startDate").value;
        
        let formattedDate = "MM/DD";
        if (date) {
            const d = new Date(date);
            formattedDate = `${d.getMonth() + 1}/${d.getDate()}`;
        }
        document.getElementById("title").value = `[${year || '0000'}ë…„ ${semester || '0'}í•™ê¸° ${batch || '0'}ì°¨] (${formattedDate} ê°œê°•ë°˜) ë³´ìœ¡ ê´€ë ¨ ëŒ€ë©´ê³¼ëª© ìˆ˜ì—… ì¼ì •ì•ˆë‚´`;
    }

    function generateHTML() {
        const title = document.getElementById("title").value;
        
        // 1. Build Schedule Table HTML
        let scheduleRows = "";
        subjects.forEach(sub => {
            scheduleRows += `<tr><td style="padding:10px; border:1px solid #ddd; font-weight:bold; background-color:#f9f9f9;">${sub}</td>`;
            regions.forEach(reg => {
                const id = `${sub}_${reg}`;
                const isChecked = document.getElementById(`chk_${id}`).checked;
                const dateVal = document.getElementById(id).value;
                let cellContent = "ë¯¸ì •";
                
                if (isChecked) {
                    cellContent = `<span style="color:#aaa;">ë¯¸ê°œê°•</span>`;
                } else if (dateVal) {
                    const d = new Date(dateVal);
                    const week = ['ì¼', 'ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† '];
                    const mm = String(d.getMonth() + 1).padStart(2, '0');
                    const dd = String(d.getDate()).padStart(2, '0');
                    cellContent = `<strong>${mm}/${dd}</strong>(${week[d.getDay()]})`;
                }
                scheduleRows += `<td style="padding:10px; border:1px solid #ddd;">${cellContent}</td>`;
            });
            scheduleRows += `</tr>`;
        });

        // 2. Build Location Table HTML
        let locationRows = "";
        document.querySelectorAll("#locationTableBody tr").forEach(row => {
            const reg = row.querySelector(".regionSelect").value;
            const loc = row.querySelector(".locationSelect").value;
            const addr = row.querySelector(".addressDisplay").innerText;
            const link = row.querySelector(".mapLink").href;
            const hasLink = !row.querySelector(".mapLink").classList.contains("hidden");

            if (reg && loc) {
                locationRows += `
                    <tr>
                        <td style="padding:10px; border:1px solid #ddd; font-weight:bold;">${reg}</td>
                        <td style="padding:10px; border:1px solid #ddd;">${loc}</td>
                        <td style="padding:10px; border:1px solid #ddd;">${addr}</td>
                        <td style="padding:10px; border:1px solid #ddd;">
                            ${hasLink ? `<a href="${link}" target="_blank" style="color:#3498db; text-decoration:none;">ğŸ”— ì§€ë„ë³´ê¸°</a>` : '-'}
                        </td>
                    </tr>
                `;
            }
        });

        // 3. Final Template
        const htmlCode = `
<div style="font-family: 'Malgun Gothic', 'Apple SD Gothic Neo', sans-serif; max-width: 1000px; margin: 0 auto; color: #333; line-height: 1.6; background-color: #fff; padding: 20px;">
    
    <!-- Header -->
    <div style="text-align: center; border-bottom: 2px solid #2c3e50; padding-bottom: 20px; margin-bottom: 30px;">
        <h2 style="font-size: 24px; color: #2c3e50; margin: 0; letter-spacing: -1px;">${title}</h2>
        <div style="margin-top: 15px; background-color:#f8f9fa; padding:15px; border-radius:5px; text-align:left; font-size:14px;">
            <ul style="margin:0; padding-left:20px;">
                <li>â–¶ [ì˜ìœ ì•„ë³´ìœ¡ë²• ì‹œí–‰ê·œì¹™]ì— ë”°ë¥¸ ë³´ìœ¡ ê´€ë ¨ ëŒ€ë©´ êµê³¼ëª©</li>
                <li>â–¶ <strong>8ì‹œê°„ ì´ìƒ ì¶œì„ ìˆ˜ì—…</strong>ê³¼ <strong>1íšŒ ì´ìƒ ì¶œì„ ì‹œí—˜</strong> í•„ìˆ˜</li>
            </ul>
        </div>
    </div>

    <!-- Section: Schedule -->
    <div style="margin-bottom: 35px;">
        <h3 style="font-size: 18px; color: #2c3e50; border-left: 5px solid #4f46e5; padding-left: 12px; margin-bottom: 15px;">ğŸ“š ëŒ€ë©´ìˆ˜ì—… í•™ìŠµê³¼ëª© ë° ê°•ì˜ ì¼ì •</h3>
        <div style="overflow-x:auto;">
            <table style="width: 100%; border-collapse: collapse; font-size: 13px; text-align: center; white-space: nowrap;">
                <thead>
                    <tr style="background-color: #2c3e50; color: #fff;">
                        <th style="padding: 10px; border: 1px solid #2c3e50;">ê³¼ëª©</th>
                        ${regions.map(r => `<th style="padding: 10px; border: 1px solid #2c3e50;">${r}</th>`).join('')}
                    </tr>
                </thead>
                <tbody>
                    ${scheduleRows}
                </tbody>
            </table>
        </div>
        <p style="margin-top: 10px; font-size: 13px; color: #e74c3c; font-weight:bold;">
            â€» ì¸ì› ë¯¸ë‹¬ ì‹œ íê°•ë  ìˆ˜ ìˆìœ¼ë©°, ê°œê°• ì „ ì•ˆë‚´ë“œë¦½ë‹ˆë‹¤.
        </p>
    </div>

    <!-- Section: Locations -->
    <div style="margin-bottom: 35px;">
        <h3 style="font-size: 18px; color: #2c3e50; border-left: 5px solid #4f46e5; padding-left: 12px; margin-bottom: 15px;">ğŸ“ ëŒ€ë©´ìˆ˜ì—… ì¥ì†Œ ì•ˆë‚´</h3>
        <table style="width: 100%; border-collapse: collapse; font-size: 14px; text-align: center;">
            <thead>
                <tr style="background-color: #f1f3f5; color: #495057;">
                    <th style="padding: 10px; border-bottom: 2px solid #dee2e6;">ì§€ì—­</th>
                    <th style="padding: 10px; border-bottom: 2px solid #dee2e6;">ì¥ì†Œëª…</th>
                    <th style="padding: 10px; border-bottom: 2px solid #dee2e6;">ì£¼ì†Œ</th>
                    <th style="padding: 10px; border-bottom: 2px solid #dee2e6;">ì§€ë„</th>
                </tr>
            </thead>
            <tbody>
                ${locationRows || '<tr><td colspan="4" style="padding:15px; color:#999;">ë“±ë¡ëœ ì¥ì†Œê°€ ì—†ìŠµë‹ˆë‹¤.</td></tr>'}
            </tbody>
        </table>
        <p style="margin-top: 10px; font-size: 13px; color: #888;">
            â€» ì„¸ë¶€ ì¥ì†ŒëŠ” ê°œê°•ì¼ ë¬¸ìë¡œ ì•ˆë‚´ë  ì˜ˆì •ì…ë‹ˆë‹¤.
        </p>
    </div>

    <!-- Section: Time Table -->
    <div style="margin-bottom: 35px;">
        <h3 style="font-size: 18px; color: #2c3e50; border-left: 5px solid #4f46e5; padding-left: 12px; margin-bottom: 15px;">ğŸ•’ ëŒ€ë©´ìˆ˜ì—… ê°•ì˜ ì‹œê°„í‘œ</h3>
        <div style="background-color:#fff; border:1px solid #eee; border-radius:8px; overflow:hidden;">
            <table style="width: 100%; border-collapse: collapse; font-size: 14px; text-align: center;">
                <tr style="border-bottom:1px solid #eee;">
                    <td style="padding:10px; background-color:#f9f9f9; width:40%;">09:00 ~ 12:00</td>
                    <td style="padding:10px;">1êµì‹œ ~ 3êµì‹œ</td>
                </tr>
                <tr style="border-bottom:1px solid #eee;">
                    <td style="padding:10px; background-color:#f9f9f9;">12:00 ~ 13:00</td>
                    <td style="padding:10px; color:#4f46e5; font-weight:bold;">ì ì‹¬ì‹œê°„</td>
                </tr>
                <tr style="border-bottom:1px solid #eee;">
                    <td style="padding:10px; background-color:#f9f9f9;">13:00 ~ 18:00</td>
                    <td style="padding:10px;">4êµì‹œ ~ 8êµì‹œ</td>
                </tr>
                <tr>
                    <td style="padding:10px; background-color:#f9f9f9;">18:00 ~ 19:00</td>
                    <td style="padding:10px; color:#e74c3c; font-weight:bold;">9êµì‹œ (ì¶œì„ì‹œí—˜)</td>
                </tr>
            </table>
        </div>
    </div>

    <!-- Footer -->
    <div style="border-top: 2px solid #2c3e50; padding-top: 20px;">
        <h4 style="font-size:16px; margin:0 0 10px 0; color:#2c3e50;">âš ï¸ ìœ ì˜ì‚¬í•­</h4>
        <div style="background-color:#fff0f0; padding:20px; border-radius:8px;">
            <ul style="margin:0; padding-left:20px; font-size:14px; color:#c0392b; line-height:1.8;">
                <li>ì¶œì„ ì²´í¬ í•„ìˆ˜ (ì§€ê°/ì¡°í‡´/ê²°ì„ ì‹œ ìê²©ì¦ ì·¨ë“ ë¶ˆê°€)</li>
                <li>ì‹ ë¶„ì¦ í•„ìˆ˜ ì§€ì°¸ (ëŒ€ë¦¬ì¶œì„ ì ë°œ ì‹œ ë¯¸ìˆ˜ë£Œ)</li>
                <li>ì¶œì„ ì¦ë¹™ìš© ì‚¬ì§„ ì´¬ì˜ ì§„í–‰</li>
                <li>ì¶œì„ì‹œí—˜ ì ìˆ˜ë¡œ í† ë¡  ì ìˆ˜ ëŒ€ì²´</li>
            </ul>
        </div>
    </div>

</div>
`;
        
        document.getElementById("output").value = htmlCode;
        document.getElementById("livePreview").innerHTML = htmlCode;
    }

    function copyOutput() {
        const textarea = document.getElementById("output");
        if(!textarea.value) { alert("ë¨¼ì € ì½”ë“œë¥¼ ìƒì„±í•´ì£¼ì„¸ìš”."); return; }
        textarea.select();
        document.execCommand("copy");
        alert("âœ… HTML ì½”ë“œê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!");
    }
</script>

</body>
</html>