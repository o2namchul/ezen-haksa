<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ì¼ë°˜ ê³µì§€ì‚¬í•­ ìƒì„±ê¸° (Modern)</title>
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body { font-family: 'Pretendard', 'Malgun Gothic', sans-serif; background-color: #f3f4f6; }
    .input-group label { font-size: 0.875rem; font-weight: 600; color: #374151; margin-bottom: 0.25rem; display: block; }
    .input-group input, .input-group select, .input-group textarea { width: 100%; padding: 0.5rem; border: 1px solid #d1d5db; border-radius: 0.375rem; font-size: 0.875rem; transition: border-color 0.2s; }
    .input-group input:focus, .input-group textarea:focus { outline: none; border-color: #0d9488; ring: 2px solid #ccfbf1; } /* Teal theme */
    .preview-box { background: white; border: 1px solid #e5e7eb; padding: 20px; border-radius: 8px; min-height: 300px; box-shadow: inset 0 2px 4px 0 rgba(0, 0, 0, 0.06); }
    /* Hide scrollbar for cleaner look in some browsers */
    textarea { resize: vertical; min-height: 80px; }
  </style>
</head>
<body class="p-4 md:p-8">

<div class="max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-8">
  
  <!-- Left Column: Settings -->
  <div class="bg-white rounded-xl shadow-lg p-6 h-fit">
    <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b pb-2"><i class="fa-solid fa-bullhorn text-teal-600 mr-2"></i>ì¼ë°˜ ê³µì§€ì‚¬í•­</h2>

    <!-- Title Config -->
    <div class="bg-teal-50 p-4 rounded-lg mb-6 border border-teal-100">
      <h3 class="font-bold text-teal-800 mb-3 text-sm">ğŸ“Œ ì œëª© ì„¤ì •</h3>
      <div class="input-group mb-3">
        <label>ê³µì§€ ì œëª© (í•„ìˆ˜)</label>
        <input type="text" id="mainTitle" placeholder="ì˜ˆ: 2025ë…„ë„ 1í•™ê¸° í•™ìŠµì ë“±ë¡ ì•ˆë‚´" onkeyup="generateHTML()">
      </div>
      <!-- Optional Details -->
      <div class="flex gap-2 items-center">
        <input type="checkbox" id="useDetailInfo" class="w-4 h-4" onchange="toggleDetailInfo()">
        <label for="useDetailInfo" class="mb-0 cursor-pointer text-sm text-gray-600">í•™ê¸°/ì°¨ìˆ˜ ì •ë³´ í¬í•¨í•˜ê¸°</label>
      </div>
      <div id="detailInfoBox" class="flex gap-2 mt-2 hidden">
        <div class="input-group flex-1">
            <input type="number" id="year" placeholder="2025" onchange="generateHTML()">
        </div>
        <span class="self-center font-bold text-gray-500 text-xs">ë…„</span>
        <div class="input-group w-16">
            <input type="number" id="semester" placeholder="1" onchange="generateHTML()">
        </div>
        <span class="self-center font-bold text-gray-500 text-xs">í•™ê¸°</span>
        <div class="input-group w-16">
            <input type="number" id="batch" placeholder="1" onchange="generateHTML()">
        </div>
        <span class="self-center font-bold text-gray-500 text-xs">ì°¨</span>
      </div>
    </div>

    <!-- Content Sections -->
    <div class="space-y-6">
        
        <!-- 1. Intro Text -->
        <div class="input-group">
            <label class="text-gray-700">1. ì¸ì‚¬ë§ / ì„œë¡  (ì„ íƒ)</label>
            <textarea id="introText" placeholder="ì•ˆë…•í•˜ì„¸ìš”. êµìœ¡ì›ì…ë‹ˆë‹¤.&#13;&#10;ì´ë²ˆ í•™ê¸° í•™ìŠµì ë“±ë¡ì— ê´€í•´ ì•ˆë‚´ë“œë¦½ë‹ˆë‹¤." onkeyup="generateHTML()"></textarea>
        </div>

        <!-- 2. Main List Points (Dynamic Sections) -->
        <div>
            <div class="flex justify-between items-center mb-2">
                <label class="text-teal-700 font-bold">2. í•µì‹¬ ì•ˆë‚´ ì‚¬í•­ (ë¦¬ìŠ¤íŠ¸)</label>
                <button onclick="addListSection()" class="text-xs bg-teal-600 text-white px-3 py-1 rounded hover:bg-teal-700 transition shadow"><i class="fa-solid fa-folder-plus mr-1"></i>ì†Œì œëª© ì„¹ì…˜ ì¶”ê°€</button>
            </div>
            
            <div id="mainListContainer" class="space-y-4">
                <!-- List Sections will be added here via JS -->
            </div>
        </div>

        <!-- 3. Emphasis Box -->
        <div class="input-group">
            <label class="text-red-600"><i class="fa-solid fa-circle-exclamation mr-1"></i>3. ì¤‘ìš”/ê°•ì¡° ì‚¬í•­ (ë¶‰ì€ ë°•ìŠ¤)</label>
            <textarea id="emphasisText" class="border-red-200 focus:border-red-500 focus:ring-red-100" placeholder="â€» ê¸°í•œ ë‚´ ë¯¸ë“±ë¡ ì‹œ í•™ìŠµì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.&#13;&#10;â€» ì²¨ë¶€íŒŒì¼ì„ ë°˜ë“œì‹œ í™•ì¸í•´ì£¼ì„¸ìš”." onkeyup="generateHTML()"></textarea>
        </div>

        <!-- 4. Footer/Contact -->
        <div class="input-group">
            <label>4. ë¬¸ì˜ì²˜ / ë§ºìŒë§</label>
            <input type="text" id="contactText" placeholder="ë¬¸ì˜: 1588-0000 (êµí•™íŒ€)" onkeyup="generateHTML()">
        </div>
    </div>

    <div class="mt-6 pt-4 border-t">
        <button onclick="generateHTML()" class="w-full bg-teal-600 hover:bg-teal-700 text-white font-bold py-4 rounded-lg shadow transition text-lg">
            <i class="fa-solid fa-rotate mr-2"></i> ê²°ê³¼ë¬¼ ê°±ì‹ í•˜ê¸°
        </button>
    </div>
  </div>

  <!-- Right Column: Preview & Code -->
  <div class="flex flex-col gap-6">
    
    <!-- Code Output -->
    <div class="bg-white rounded-xl shadow-lg p-6">
        <div class="flex justify-between items-center mb-4">
            <h2 class="text-xl font-bold text-gray-800"><i class="fa-solid fa-code text-purple-600 mr-2"></i>HTML ì†ŒìŠ¤ì½”ë“œ</h2>
            <button onclick="copyOutput()" class="bg-gray-800 hover:bg-gray-900 text-white px-4 py-2 rounded text-sm transition">
                <i class="fa-regular fa-copy mr-1"></i> ì½”ë“œ ë³µì‚¬
            </button>
        </div>
        <textarea id="output" class="w-full h-40 p-3 border rounded-lg bg-gray-50 text-xs font-mono resize-none focus:ring-2 focus:ring-purple-200 focus:border-purple-500" readonly placeholder="ì¢Œì¸¡ ë‚´ìš©ì„ ì…ë ¥í•˜ë©´ ì½”ë“œê°€ ìë™ ìƒì„±ë©ë‹ˆë‹¤."></textarea>
    </div>

    <!-- Live Preview -->
    <div class="bg-white rounded-xl shadow-lg p-6 flex-1">
        <h2 class="text-xl font-bold text-gray-800 mb-4"><i class="fa-solid fa-eye text-green-600 mr-2"></i>ë””ìì¸ ë¯¸ë¦¬ë³´ê¸°</h2>
        <div id="livePreview" class="preview-box overflow-y-auto max-h-[600px]">
            <div class="flex flex-col items-center justify-center h-full text-gray-400">
                <i class="fa-solid fa-arrow-left text-3xl mb-2"></i>
                <p>ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.</p>
            </div>
        </div>
    </div>
  </div>
</div>

<!-- Template for List Section -->
<template id="listSectionTemplate">
    <div class="list-section border p-4 rounded-lg border-gray-200 bg-gray-50 relative group">
        <button onclick="removeSection(this)" class="absolute top-2 right-2 text-gray-400 hover:text-red-500" title="ì´ ì„¹ì…˜ ì‚­ì œ"><i class="fa-solid fa-trash-can"></i></button>
        
        <div class="input-group mb-2 pr-6">
            <input type="text" class="listTitleInput font-bold bg-white" placeholder="ì†Œì œëª© ì…ë ¥ (ì˜ˆ: 1. ì‹ ì²­ ì ˆì°¨)" onkeyup="generateHTML()">
        </div>
        
        <div class="listItemsContainer space-y-2">
            <!-- Items go here -->
            <div class="flex gap-2">
                <input type="text" class="listItemInput w-full border p-2 rounded text-sm" placeholder="ë‚´ìš© ì…ë ¥" onkeyup="generateHTML()">
                <button onclick="removeListItem(this)" class="text-gray-400 hover:text-red-500 px-1"><i class="fa-solid fa-xmark"></i></button>
            </div>
            <div class="flex gap-2">
                <input type="text" class="listItemInput w-full border p-2 rounded text-sm" placeholder="ë‚´ìš© ì…ë ¥" onkeyup="generateHTML()">
                <button onclick="removeListItem(this)" class="text-gray-400 hover:text-red-500 px-1"><i class="fa-solid fa-xmark"></i></button>
            </div>
        </div>
        
        <button onclick="addListItemToSection(this)" class="mt-2 text-xs text-teal-600 hover:text-teal-800 font-bold"><i class="fa-solid fa-plus"></i> í•­ëª© ì¶”ê°€</button>
    </div>
</template>

<script>
    // --- UI Logic ---
    function toggleDetailInfo() {
        const box = document.getElementById('detailInfoBox');
        const chk = document.getElementById('useDetailInfo');
        if (chk.checked) {
            box.classList.remove('hidden');
        } else {
            box.classList.add('hidden');
        }
        generateHTML();
    }

    // Add a new whole section (Title + List)
    function addListSection() {
        const container = document.getElementById('mainListContainer');
        const template = document.getElementById('listSectionTemplate');
        const clone = template.content.cloneNode(true);
        container.appendChild(clone);
        generateHTML();
    }

    // Remove a whole section
    function removeSection(btn) {
        if(confirm("ì´ ì•ˆë‚´ ì„¹ì…˜ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
            btn.closest('.list-section').remove();
            generateHTML();
        }
    }

    // Add a single item row to a specific section
    function addListItemToSection(btn) {
        const section = btn.closest('.list-section');
        const container = section.querySelector('.listItemsContainer');
        const div = document.createElement('div');
        div.className = 'flex gap-2';
        div.innerHTML = `
            <input type="text" class="listItemInput w-full border p-2 rounded text-sm" placeholder="ë‚´ìš© ì…ë ¥" onkeyup="generateHTML()">
            <button onclick="removeListItem(this)" class="text-gray-400 hover:text-red-500 px-1"><i class="fa-solid fa-xmark"></i></button>
        `;
        container.appendChild(div);
    }

    // Remove a single item row
    function removeListItem(btn) {
        // Prevent deleting if it's the last one? Optional.
        // For now just remove.
        btn.parentElement.remove();
        generateHTML();
    }

    // --- HTML Generation Logic ---
    function generateHTML() {
        // 1. Get Values
        const mainTitle = document.getElementById('mainTitle').value || "ê³µì§€ì‚¬í•­ ì œëª©";
        
        let titlePrefix = "";
        if (document.getElementById('useDetailInfo').checked) {
            const y = document.getElementById('year').value || "0000";
            const s = document.getElementById('semester').value || "0";
            const b = document.getElementById('batch').value || "0";
            titlePrefix = `[${y}ë…„ ${s}í•™ê¸° ${b}ì°¨] `;
        }
        const fullTitle = titlePrefix + mainTitle;

        const introText = document.getElementById('introText').value.replace(/\n/g, '<br>');
        
        const emphasisText = document.getElementById('emphasisText').value.replace(/\n/g, '<br>');
        const contactText = document.getElementById('contactText').value;

        // 2. Build Content HTML
        
        // Intro Section
        let introHTML = "";
        if (introText) {
            introHTML = `<p style="margin-bottom: 25px; font-size: 15px; color: #555;">${introText}</p>`;
        }

        // Multiple List Sections Logic
        let allListsHTML = "";
        const sections = document.querySelectorAll('.list-section');
        
        sections.forEach(sec => {
            const listTitle = sec.querySelector('.listTitleInput').value;
            const listItems = Array.from(sec.querySelectorAll('.listItemInput'))
                                  .map(input => input.value)
                                  .filter(val => val.trim() !== "");

            if (listTitle || listItems.length > 0) {
                let itemsHTML = listItems.map(item => `<li style="margin-bottom: 8px;">${item}</li>`).join('');
                
                let listTitleHTML = "";
                if(listTitle) {
                    listTitleHTML = `<h3 style="font-size: 18px; color: #2c3e50; border-left: 5px solid #0d9488; padding-left: 12px; margin-bottom: 15px;">${listTitle}</h3>`;
                }

                allListsHTML += `
                <div style="margin-bottom: 30px;">
                    ${listTitleHTML}
                    <div style="background-color: #f0fdfa; padding: 20px; border-radius: 8px; border: 1px solid #ccfbf1;">
                        <ul style="list-style: disc; padding-left: 20px; margin: 0; color: #333; line-height: 1.6;">
                            ${itemsHTML}
                        </ul>
                    </div>
                </div>`;
            }
        });

        // Emphasis Section
        let emphasisHTML = "";
        if (emphasisText) {
            emphasisHTML = `
            <div style="margin-bottom: 30px; background-color: #fff5f5; border: 1px solid #feb2b2; border-radius: 8px; padding: 20px; color: #c53030;">
                <strong style="display:block; margin-bottom:5px;">âš ï¸ ìœ ì˜ì‚¬í•­</strong>
                <p style="margin:0; font-size: 14px; line-height: 1.5;">${emphasisText}</p>
            </div>`;
        }

        // Contact Section
        let footerHTML = "";
        if (contactText) {
            footerHTML = `
            <div style="border-top: 2px solid #2c3e50; padding-top: 20px; text-align: center; color: #555;">
                <p style="font-weight: bold; margin: 0;">ğŸ“ ${contactText}</p>
            </div>`;
        }


        // 3. Final Assembly
        const finalHTML = `
<div style="font-family: 'Malgun Gothic', 'Apple SD Gothic Neo', sans-serif; max-width: 850px; margin: 0 auto; color: #333; line-height: 1.6; background-color: #fff; padding: 30px 20px;">
    
    <!-- Title -->
    <div style="text-align: center; border-bottom: 2px solid #2c3e50; padding-bottom: 20px; margin-bottom: 30px;">
        <h2 style="font-size: 24px; color: #2c3e50; margin: 0; letter-spacing: -1px; word-break: keep-all;">${fullTitle}</h2>
    </div>

    <!-- Intro -->
    ${introHTML}

    <!-- Main Content (Multiple Lists) -->
    ${allListsHTML}

    <!-- Emphasis Box -->
    ${emphasisHTML}

    <!-- Footer -->
    ${footerHTML}

</div>`;

        // 4. Update DOM
        document.getElementById('output').value = finalHTML;
        document.getElementById('livePreview').innerHTML = finalHTML;
    }

    function copyOutput() {
        const textarea = document.getElementById("output");
        if(!textarea.value) { alert("ë¨¼ì € ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”."); return; }
        textarea.select();
        document.execCommand("copy");
        alert("âœ… HTML ì½”ë“œê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!");
    }

    // Init: Add one default section on load
    window.onload = function() {
        addListSection();
    };
</script>

</body>
</html>