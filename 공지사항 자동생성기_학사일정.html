<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>í•™ì‚¬ì¼ì • ê³µì§€ì‚¬í•­ ìƒì„±ê¸° (Modern)</title>
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body { font-family: 'Pretendard', 'Malgun Gothic', sans-serif; background-color: #f3f4f6; }
    .input-group label { font-size: 0.875rem; font-weight: 600; color: #374151; margin-bottom: 0.25rem; display: block; }
    .input-group input, .input-group select { width: 100%; padding: 0.5rem; border: 1px solid #d1d5db; border-radius: 0.375rem; font-size: 0.875rem; transition: border-color 0.2s; }
    .input-group input:focus { outline: none; border-color: #ec4899; ring: 2px solid #fbcfe8; } /* Pink theme */
    .preview-box { background: white; border: 1px solid #e5e7eb; padding: 20px; border-radius: 8px; min-height: 300px; box-shadow: inset 0 2px 4px 0 rgba(0, 0, 0, 0.06); }
  </style>
</head>
<body class="p-4 md:p-8">

<div class="max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-8">
  
  <!-- Left Column: Settings -->
  <div class="bg-white rounded-xl shadow-lg p-6 h-fit">
    <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b pb-2"><i class="fa-solid fa-calendar-check text-pink-500 mr-2"></i>í•™ì‚¬ì¼ì • ê³µì§€ì‚¬í•­</h2>

    <!-- Title Config -->
    <div class="bg-pink-50 p-4 rounded-lg mb-6 border border-pink-100">
      <h3 class="font-bold text-pink-800 mb-3 text-sm">ğŸ“Œ ì œëª© ì„¤ì •</h3>
      <div class="flex gap-2 mb-2">
        <div class="input-group flex-1">
          <input type="number" id="year" placeholder="2026" onchange="updateTitle()">
        </div>
        <span class="self-center font-bold text-gray-500">ë…„</span>
        <div class="input-group w-20">
          <input type="number" id="semester" placeholder="1" onchange="updateTitle()">
        </div>
        <span class="self-center font-bold text-gray-500">í•™ê¸°</span>
        <div class="input-group w-20">
          <input type="number" id="batch" placeholder="6" onchange="updateTitle()">
        </div>
        <span class="self-center font-bold text-gray-500">ì°¨</span>
      </div>
      <div class="flex gap-2 items-center">
        <span class="text-sm font-bold text-gray-600">ê°œê°•ë°˜(ì›”ì¼):</span>
        <div class="input-group flex-1">
          <input type="date" id="startDate" onchange="updateTitle()">
        </div>
      </div>
      <div class="mt-3 input-group">
        <label>ìƒì„±ë  ì œëª© ë¯¸ë¦¬ë³´ê¸°</label>
        <input type="text" id="title" class="bg-gray-100 text-gray-600 cursor-not-allowed" readonly>
      </div>
    </div>

    <!-- Date Config -->
    <div class="mb-6 space-y-4">
      <div class="input-group">
        <label class="text-pink-600"><i class="fa-regular fa-calendar-plus mr-1"></i> ê°œê°•ì¼ (ê¸°ì¤€ì¼)</label>
        <input type="date" id="openDate" onchange="calculateDates()">
        <p class="text-xs text-gray-400 mt-1">* ê°œê°•ì¼ì„ ì…ë ¥í•˜ë©´ í•˜ë‹¨ í‰ê°€ ì¼ì •ì´ ìë™ ê³„ì‚°ë©ë‹ˆë‹¤.</p>
      </div>

      <div class="grid grid-cols-2 gap-4">
        <div class="input-group">
          <label>í•™ì ì¸ì • ì‹ ì²­ê¸°ê°„</label>
          <input type="text" id="creditPeriod" placeholder="ì˜ˆ: 2026ë…„ 7ì›”">
        </div>
        <div class="input-group">
          <label>í•™ìœ„ì·¨ë“ ì‹ ì²­ê¸°ê°„</label>
          <input type="text" id="degreePeriod" placeholder="ì˜ˆ: 2026ë…„ 8ì›”">
        </div>
      </div>
    </div>

    <!-- Calculated Dates Preview (Read-only) -->
    <div class="bg-gray-50 p-4 rounded-lg border mb-6">
        <h3 class="font-bold text-gray-700 mb-3 text-sm">ğŸ—“ï¸ ìë™ ê³„ì‚°ëœ ì£¼ìš” ì¼ì •</h3>
        <div class="grid grid-cols-2 gap-3 text-sm text-gray-600">
            <div><span class="font-bold">ìª½ì§€ì‹œí—˜:</span> <span id="previewQuiz"></span></div>
            <div><span class="font-bold">ê³¼ì œì œì¶œ:</span> <span id="previewAssign"></span></div>
            <div><span class="font-bold">ì¤‘ê°„ê³ ì‚¬:</span> <span id="previewMid"></span></div>
            <div><span class="font-bold">í† ë¡ ì œì¶œ:</span> <span id="previewDiscuss"></span></div>
            <div><span class="font-bold">ê¸°ë§ê³ ì‚¬:</span> <span id="previewFinal"></span></div>
            <div><span class="font-bold">ì¢…ê°•ì¼:</span> <span id="previewEnd"></span></div>
        </div>
    </div>

    <button onclick="generateHTML()" class="w-full bg-pink-600 hover:bg-pink-700 text-white font-bold py-4 rounded-lg shadow transition text-lg">
      <i class="fa-solid fa-wand-magic-sparkles mr-2"></i> ê³µì§€ì‚¬í•­ HTML ìƒì„±í•˜ê¸°
    </button>
  </div>

  <!-- Right Column: Preview & Code -->
  <div class="flex flex-col gap-6">
    
    <!-- Code Output -->
    <div class="bg-white rounded-xl shadow-lg p-6">
        <div class="flex justify-between items-center mb-4">
            <h2 class="text-xl font-bold text-gray-800"><i class="fa-solid fa-code text-purple-600 mr-2"></i>HTML ì†ŒìŠ¤ì½”ë“œ</h2>
            <button onclick="copyOutput()" class="bg-gray-800 hover:bg-gray-900 text-white px-4 py-2 rounded text-sm transition">
                <i class="fa-regular fa-copy mr-1"></i> ì½”ë“œ ë³µì‚¬
            </button>
        </div>
        <textarea id="output" class="w-full h-40 p-3 border rounded-lg bg-gray-50 text-xs font-mono resize-none focus:ring-2 focus:ring-purple-200 focus:border-purple-500" readonly placeholder="ì¢Œì¸¡ì—ì„œ 'ìƒì„±í•˜ê¸°' ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì½”ë“œê°€ ë‚˜íƒ€ë‚©ë‹ˆë‹¤."></textarea>
    </div>

    <!-- Live Preview -->
    <div class="bg-white rounded-xl shadow-lg p-6 flex-1">
        <h2 class="text-xl font-bold text-gray-800 mb-4"><i class="fa-solid fa-eye text-green-600 mr-2"></i>ë””ìì¸ ë¯¸ë¦¬ë³´ê¸°</h2>
        <div id="livePreview" class="preview-box overflow-y-auto max-h-[600px]">
            <div class="flex flex-col items-center justify-center h-full text-gray-400">
                <i class="fa-solid fa-arrow-left text-3xl mb-2"></i>
                <p>ì¢Œì¸¡ ë‚´ìš©ì„ ì…ë ¥í•˜ê³  ìƒì„± ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.</p>
            </div>
        </div>
    </div>
  </div>
</div>

<script>
    // --- Logic Functions ---

    function updateTitle() {
        const year = document.getElementById("year").value;
        const semester = document.getElementById("semester").value;
        const batch = document.getElementById("batch").value;
        const date = document.getElementById("startDate").value;
        
        let formattedDate = "MM/DD";
        if (date) {
            const d = new Date(date);
            formattedDate = `${d.getMonth() + 1}/${d.getDate()}`;
        }

        const titleStr = `[${year || '0000'}ë…„ ${semester || '0'}í•™ê¸° ${batch || '0'}ì°¨] (${formattedDate} ê°œê°•ë°˜) í•™ì‚¬ì¼ì • ì•ˆë‚´`;
        document.getElementById("title").value = titleStr;
    }

    function calculateDates() {
        const openStr = document.getElementById("openDate").value;
        if (!openStr) return;
        
        const openDate = new Date(openStr);
        
        // Helper to format MM.DD
        const fmt = (d) => `${d.getMonth()+1}.${d.getDate()}`;

        // Calculations
        const quizStart = new Date(openDate); quizStart.setDate(openDate.getDate() + 21);
        const assignStart = new Date(openDate); assignStart.setDate(openDate.getDate() + 28);
        const midStart = new Date(openDate); midStart.setDate(openDate.getDate() + 50);
        const discussStart = new Date(openDate); discussStart.setDate(openDate.getDate() + 70);
        const finalStart = new Date(openDate); finalStart.setDate(openDate.getDate() + 99);
        const endDate = new Date(openDate); endDate.setDate(openDate.getDate() + 104);

        // Update Preview Text
        document.getElementById('previewQuiz').innerText = fmt(quizStart);
        document.getElementById('previewAssign').innerText = fmt(assignStart);
        document.getElementById('previewMid').innerText = fmt(midStart);
        document.getElementById('previewDiscuss').innerText = fmt(discussStart);
        document.getElementById('previewFinal').innerText = fmt(finalStart);
        document.getElementById('previewEnd').innerText = fmt(endDate);
    }

    // --- Helper Functions for Text Generation ---
    function formatDateKorean(date) {
        if (!date) return "ë¯¸ì •";
        const d = new Date(date);
        const week = ['ì¼', 'ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† '];
        // Format: 2025. 03. 06(ëª©)
        return `${d.getFullYear()}. ${String(d.getMonth() + 1).padStart(2, '0')}. ${String(d.getDate()).padStart(2, '0')}(${week[d.getDay()]})`;
    }

    // --- MAIN GENERATE FUNCTION ---
    function generateHTML() {
        const title = document.getElementById("title").value || "í•™ì‚¬ì¼ì • ì•ˆë‚´";
        const openStr = document.getElementById("openDate").value;
        const creditPeriod = document.getElementById("creditPeriod").value || "ë¯¸ì •";
        const degreePeriod = document.getElementById("degreePeriod").value || "ë¯¸ì •";
        
        if(!openStr) { alert("ê°œê°•ì¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”."); return; }

        const startDate = new Date(openStr);

        // Calculate All Dates
        const quizStart = new Date(startDate); quizStart.setDate(startDate.getDate() + 21);
        const quizEnd = new Date(quizStart); quizEnd.setDate(quizStart.getDate() + 13);

        const assignStart = new Date(startDate); assignStart.setDate(startDate.getDate() + 28);
        const assignEnd = new Date(assignStart); assignEnd.setDate(assignStart.getDate() + 13);

        const midStart = new Date(startDate); midStart.setDate(startDate.getDate() + 50);
        const midEnd = new Date(midStart); midEnd.setDate(midStart.getDate() + 3); // 4 days duration (0~3)

        const discussStart = new Date(startDate); discussStart.setDate(startDate.getDate() + 70);
        const discussEnd = new Date(discussStart); discussEnd.setDate(discussStart.getDate() + 13);

        const finalStart = new Date(startDate); finalStart.setDate(startDate.getDate() + 99);
        const finalEnd = new Date(finalStart); finalEnd.setDate(finalStart.getDate() + 3); // 4 days

        const endDate = new Date(startDate); endDate.setDate(startDate.getDate() + 104);

        // --- NEW HTML DESIGN TEMPLATE (Academic Calendar) ---
        const htmlCode = `
<div style="font-family: 'Malgun Gothic', 'Apple SD Gothic Neo', sans-serif; max-width: 850px; margin: 0 auto; color: #333; line-height: 1.6; background-color: #fff; padding: 20px;">
    
    <!-- Header -->
    <div style="text-align: center; border-bottom: 2px solid #2c3e50; padding-bottom: 20px; margin-bottom: 30px;">
        <h2 style="font-size: 24px; color: #2c3e50; margin: 0; letter-spacing: -1px;">${title}</h2>
    </div>

    <!-- Section: í•™ìŠµ ê¸°ê°„ -->
    <div style="margin-bottom: 35px;">
        <h3 style="font-size: 18px; color: #2c3e50; border-left: 5px solid #e84393; padding-left: 12px; margin-bottom: 15px;">ğŸ“… ì „ì²´ í•™ìŠµ ê¸°ê°„</h3>
        <div style="background-color: #fce4ec; padding: 20px; border-radius: 8px; text-align: center;">
            <strong style="font-size: 18px; color: #d81b60;">${formatDateKorean(startDate)} ~ ${formatDateKorean(endDate)}</strong>
        </div>
    </div>

    <!-- Section: í‰ê°€ ì¼ì • -->
    <div style="margin-bottom: 35px;">
        <h3 style="font-size: 18px; color: #2c3e50; border-left: 5px solid #e84393; padding-left: 12px; margin-bottom: 15px;">ğŸ“ ì„¸ë¶€ í‰ê°€ ì¼ì •</h3>
        <div style="border: 1px solid #eee; border-radius: 8px; overflow: hidden;">
            <table style="width: 100%; border-collapse: collapse; font-size: 14px;">
                <tr style="border-bottom: 1px solid #eee;">
                    <td style="padding: 12px; background-color: #fafafa; font-weight: bold; width: 30%;">ğŸ“„ ìª½ì§€ì‹œí—˜</td>
                    <td style="padding: 12px;">${formatDateKorean(quizStart)} 00:00 ~ ${formatDateKorean(quizEnd)} 23:59</td>
                </tr>
                <tr style="border-bottom: 1px solid #eee;">
                    <td style="padding: 12px; background-color: #fafafa; font-weight: bold;">ğŸ“‚ ê³¼ì œì œì¶œ</td>
                    <td style="padding: 12px;">${formatDateKorean(assignStart)} 00:00 ~ ${formatDateKorean(assignEnd)} 23:59</td>
                </tr>
                <tr style="border-bottom: 1px solid #eee;">
                    <td style="padding: 12px; background-color: #fff0f6; font-weight: bold; color:#d81b60;">ğŸ“ ì¤‘ê°„ê³ ì‚¬</td>
                    <td style="padding: 12px; background-color: #fff0f6; font-weight:bold;">${formatDateKorean(midStart)} 16:00 ~ ${formatDateKorean(midEnd)} 15:59</td>
                </tr>
                <tr style="border-bottom: 1px solid #eee;">
                    <td style="padding: 12px; background-color: #fafafa; font-weight: bold;">ğŸ—£ï¸ í† ë¡ ì œì¶œ</td>
                    <td style="padding: 12px;">${formatDateKorean(discussStart)} 00:00 ~ ${formatDateKorean(discussEnd)} 23:59</td>
                </tr>
                <tr>
                    <td style="padding: 12px; background-color: #fff0f6; font-weight: bold; color:#d81b60;">ğŸ“ ê¸°ë§ê³ ì‚¬</td>
                    <td style="padding: 12px; background-color: #fff0f6; font-weight:bold;">${formatDateKorean(finalStart)} 16:00 ~ ${formatDateKorean(finalEnd)} 15:59</td>
                </tr>
            </table>
        </div>
        <div style="margin-top: 10px; text-align: right;">
            <a href="https://www.ezenedu.com/info/schedule.asp" target="_blank" onclick="window.open('https://www2.ezenedu.com/info/schedule.do', 'schedule_all', 'width=1100,height=700,top=100,scrollbars=yes'); return false;" style="display: inline-block; background-color: #2c3e50; color: white; text-decoration: none; padding: 6px 12px; font-size: 12px; border-radius: 4px;">
                ğŸ“… ì „ì²´ í•™ì‚¬ì¼ì •í‘œ ë³´ê¸°
            </a>
        </div>
        <p style="font-size: 13px; color: #888; margin-top: 5px;">
            â€» ì‹¤ìŠµ ê³¼ëª© ë“± ì¼ë¶€ ê³¼ëª©ì€ í‰ê°€ ìš”ì†Œê°€ ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. (ì‹¤ìŠµ: í† ë¡ /ê¸°ë§ê³ ì‚¬ ì—†ìŒ)
        </p>
    </div>

    <!-- Section: í•™ì  ì‹ ì²­ -->
    <div style="display: flex; flex-wrap: wrap; gap: 20px; margin-bottom: 35px;">
        <div style="flex: 1; min-width: 300px; border: 1px solid #eee; padding: 20px; border-radius: 8px;">
            <h4 style="margin-top: 0; color: #2c3e50; border-bottom: 1px solid #eee; padding-bottom: 10px;">ğŸ“ í•™ì ì¸ì • ë° í•™ìœ„ì‹ ì²­</h4>
            <ul style="padding-left: 20px; font-size: 14px; color: #555; line-height: 1.8;">
                <li><strong>í•™ì ì¸ì • ì‹ ì²­:</strong> ${creditPeriod}</li>
                <li><strong>í•™ìœ„ì·¨ë“ ì‹ ì²­:</strong> ${degreePeriod}</li>
            </ul>
            <a href="https://www.cb.or.kr" target="_blank" style="display: block; margin-top:10px; text-align:center; background-color: #f1f3f5; color: #333; text-decoration: none; padding: 5px; font-size: 12px; border-radius: 4px;">êµ­ê°€í‰ìƒêµìœ¡ì§„í¥ì› ë°”ë¡œê°€ê¸°</a>
        </div>
        
        <div style="flex: 1; min-width: 300px; border: 1px solid #eee; padding: 20px; border-radius: 8px;">
            <h4 style="margin-top: 0; color: #2c3e50; border-bottom: 1px solid #eee; padding-bottom: 10px;">ğŸ“Š í‰ê°€ ë° ìˆ˜ë£Œ ê¸°ì¤€</h4>
            <ul style="padding-left: 20px; font-size: 13px; color: #555; line-height: 1.6;">
                <li><strong>ìƒëŒ€í‰ê°€:</strong> Aë“±ê¸‰(20~30%), Bë“±ê¸‰(30~40%), Cë“±ê¸‰ ì´í•˜(30~50%)</li>
                <li><strong>ìˆ˜ë£Œê¸°ì¤€:</strong> ì´ì  60ì  ì´ìƒ & ì¶œì„ 80% ì´ìƒ</li>
                <li>(â€»ì‹¤ìŠµ ë° ëŒ€ë©´êµê³¼ëª©ì€ í•´ë‹¹ ê³µì§€ì‚¬í•­ í™•ì¸í•„ìˆ˜!!)</li>
            </ul>
        </div>
    </div>

    <!-- Footer -->
    <div style="border-top: 2px solid #2c3e50; padding-top: 20px; font-size: 14px; color: #555; text-align: center;">
        <p style="margin-bottom: 5px;">ğŸ“¢ ìƒì„¸ ë‚´ìš©ì€ ê° ê³¼ëª©ë³„ ê³µì§€ì‚¬í•­ì„ ë°˜ë“œì‹œ í™•ì¸í•´ì£¼ì„¸ìš”.</p>
        <p style="font-weight:bold; color:#2c3e50;">ğŸ“ í•™ì‚¬ì¼ì • ë¬¸ì˜: 1688-7279</p>
    </div>

</div>
`;
        
        document.getElementById("output").value = htmlCode;
        document.getElementById("livePreview").innerHTML = htmlCode;
    }

    function copyOutput() {
        const textarea = document.getElementById("output");
        if(!textarea.value) { alert("ë¨¼ì € ì½”ë“œë¥¼ ìƒì„±í•´ì£¼ì„¸ìš”."); return; }
        textarea.select();
        document.execCommand("copy");
        alert("âœ… HTML ì½”ë“œê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!");
    }

    // Init
    window.onload = function() {
        updateTitle();
    };
</script>

</body>
</html>