<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>공지사항 통합 생성기</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body { font-family: 'Pretendard', 'Malgun Gothic', sans-serif; background-color: #f3f4f6; overflow: hidden; }
        .sidebar-item { transition: all 0.2s; }
        .sidebar-item:hover { transform: translateX(5px); }
        .sidebar-item.active { background-color: #fff; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); font-weight: bold; border-right: 4px solid; }
        iframe { width: 100%; height: 100%; border: none; }
        
        /* Custom Scrollbar for sidebar */
        .sidebar-scroll::-webkit-scrollbar { width: 4px; }
        .sidebar-scroll::-webkit-scrollbar-thumb { background-color: #cbd5e1; border-radius: 4px; }
    </style>
    <script>
        function loadPage(pageUrl, btnElement, borderColorClass, textColorClass) {
            // 1. Iframe Load
            const iframe = document.getElementById('contentFrame');
            const loader = document.getElementById('loader');
            
            // Show loader if changing page or reloading
            if (loader) loader.classList.remove('hidden');
            
            // Slight delay to ensure loader is visible before iframe navigates (optional but good for UX)
            setTimeout(() => {
                iframe.src = pageUrl;
            }, 10);

            // 2. Active Tab Styling
            // Remove active class from all buttons
            document.querySelectorAll('.sidebar-item').forEach(btn => {
                btn.classList.remove('active', 'bg-white', 'text-slate-800');
                btn.classList.add('text-slate-300');
                // Remove custom border classes
                btn.className = btn.className.replace(/border-\w+-\d+/g, ''); 
                
                // Reset icon color
                const icon = btn.querySelector('i');
                if(icon) icon.className = icon.className.replace(/text-\w+-\d+/g, '');
            });

            // Add active class to clicked button
            if (btnElement) {
                btnElement.classList.remove('text-slate-300', 'hover:bg-slate-700');
                btnElement.classList.add('active', 'bg-white', 'text-slate-800');
                if (borderColorClass) btnElement.classList.add(borderColorClass);
                
                // Set Icon Color
                const icon = btnElement.querySelector('i');
                if(icon && textColorClass) icon.classList.add(textColorClass);

                // Update Header Title
                const text = btnElement.querySelector('span').innerText;
                const iconClass = icon.className; // copy icon classes
                document.getElementById('pageTitle').innerHTML = `<i class="${iconClass} mr-2"></i>${text}`;
            }
        }

        function hideLoader() {
            const loader = document.getElementById('loader');
            if(loader) loader.classList.add('hidden');
        }

        // Initialize Time
        function updateTime() {
            const now = new Date();
            const dateStr = now.toLocaleDateString('ko-KR', { month: 'long', day: 'numeric', weekday: 'short' });
            const timeStr = now.toLocaleTimeString('ko-KR', { hour: '2-digit', minute: '2-digit' });
            const timeElement = document.getElementById('currentTime');
            if(timeElement) timeElement.innerText = `${dateStr} ${timeStr}`;
        }
    </script>
</head>
<body class="h-screen flex text-gray-800" onload="initDashboard()">

    <!-- Sidebar -->
    <aside class="w-64 bg-slate-800 text-white flex flex-col shadow-xl z-10 shrink-0">
        <!-- Logo Area -->
        <div class="p-6 border-b border-slate-700 flex items-center gap-3">
            <div class="bg-blue-500 p-2 rounded-lg">
                <i class="fa-solid fa-wand-magic-sparkles text-white text-xl"></i>
            </div>
            <div>
                <h1 class="text-lg font-bold leading-tight">공지사항<br>자동 생성기</h1>
            </div>
        </div>

        <!-- Menu Items -->
        <nav class="flex-1 overflow-y-auto sidebar-scroll p-4 space-y-2">
            
            <div class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 mt-2 px-2">기본 공지</div>
            
            <button onclick="loadPage('공지사항 자동생성기_일반.html', this, 'border-teal-500', 'text-teal-600')" 
                class="sidebar-item w-full flex items-center gap-3 p-3 rounded-lg text-slate-300 hover:bg-slate-700 hover:text-white text-left active" 
                data-url="공지사항 자동생성기_일반.html">
                <i class="fa-solid fa-bullhorn w-6 text-center"></i>
                <span>일반 공지</span>
            </button>

            <button onclick="loadPage('공지사항 자동생성기_학사일정.html', this, 'border-pink-500', 'text-pink-500')" 
                class="sidebar-item w-full flex items-center gap-3 p-3 rounded-lg text-slate-300 hover:bg-slate-700 hover:text-white text-left">
                <i class="fa-solid fa-calendar-check w-6 text-center"></i>
                <span>학사 일정</span>
            </button>

            <div class="border-t border-slate-700 my-4 mx-2"></div>
            <div class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 px-2">실습 및 수업</div>

            <button onclick="loadPage('공지사항 자동생성기_사복실습.html', this, 'border-blue-500', 'text-blue-500')" 
                class="sidebar-item w-full flex items-center gap-3 p-3 rounded-lg text-slate-300 hover:bg-slate-700 hover:text-white text-left">
                <i class="fa-solid fa-hand-holding-heart w-6 text-center"></i>
                <span>사회복지현장실습</span>
            </button>

            <button onclick="loadPage('공지사항 자동생성기_보육실습.html', this, 'border-orange-500', 'text-orange-500')" 
                class="sidebar-item w-full flex items-center gap-3 p-3 rounded-lg text-slate-300 hover:bg-slate-700 hover:text-white text-left">
                <i class="fa-solid fa-baby w-6 text-center"></i>
                <span>보육실습</span>
            </button>

            <button onclick="loadPage('공지사항 자동생성기_평생실습.html', this, 'border-indigo-500', 'text-indigo-500')" 
                class="sidebar-item w-full flex items-center gap-3 p-3 rounded-lg text-slate-300 hover:bg-slate-700 hover:text-white text-left">
                <i class="fa-solid fa-school w-6 text-center"></i>
                <span>평생교육실습</span>
            </button>

            <button onclick="loadPage('공지사항 자동생성기_한국어실습.html', this, 'border-teal-400', 'text-teal-400')" 
                class="sidebar-item w-full flex items-center gap-3 p-3 rounded-lg text-slate-300 hover:bg-slate-700 hover:text-white text-left">
                <i class="fa-solid fa-language w-6 text-center"></i>
                <span>외국어로서의한국어교육실습</span>
            </button>
            
            <button onclick="loadPage('공지사항 자동생성기_대면수업.html', this, 'border-purple-500', 'text-purple-500')" 
                class="sidebar-item w-full flex items-center gap-3 p-3 rounded-lg text-slate-300 hover:bg-slate-700 hover:text-white text-left">
                <i class="fa-solid fa-chalkboard-user w-6 text-center"></i>
                <span>대면 수업</span>
            </button>

        </nav>

        <!-- Footer Info -->
        <div class="p-4 bg-slate-900 text-xs text-slate-500 text-center">
            &copy; 2026 Notice Generator<br>Ver 2.0 (update 2025.12.30)
        </div>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 flex flex-col bg-gray-100 h-full overflow-hidden">
        <!-- Top Header -->
        <header class="bg-white h-16 shadow-sm flex items-center px-6 justify-between shrink-0">
            <h2 id="pageTitle" class="text-xl font-bold text-gray-700">
                <i class="fa-solid fa-bullhorn text-teal-600 mr-2"></i>일반 공지
            </h2>
            <div class="text-sm text-gray-500">
                <span id="currentTime"></span>
            </div>
        </header>

        <!-- Iframe Container -->
        <div class="flex-1 p-4 overflow-hidden relative">
            <div class="bg-white rounded-xl shadow-lg w-full h-full overflow-hidden border border-gray-200 relative">
                <!-- Loading Indicator -->
                <div id="loader" class="absolute inset-0 flex items-center justify-center bg-white z-0">
                    <div class="text-center">
                        <i class="fa-solid fa-circle-notch fa-spin text-4xl text-blue-500 mb-4"></i>
                        <p class="text-gray-500">페이지를 불러오는 중입니다...</p>
                    </div>
                </div>
                <!-- Actual Iframe -->
                <iframe id="contentFrame" src="공지사항 자동생성기_일반.html" onload="hideLoader()"></iframe>
            </div>
        </div>
    </main>

    <script>
        function initDashboard() {
            // Start Timer
            setInterval(updateTime, 1000);
            updateTime();

            // Initialize First Tab Styling
            const firstBtn = document.querySelector('.sidebar-item');
            if(firstBtn) {
                // We don't call loadPage here to avoid double loading the iframe (src is already set in HTML),
                // but we do want to set the button style.
                // However, loadPage handles styling. Let's just manually set the style for the first one.
                // Actually, the HTML hardcodes the 'active' class on the first button, so we just need to ensure title is correct.
                // Or better, let's just trigger loadPage to ensure consistency, but prevent double iframe load if src matches.
                loadPage(firstBtn.getAttribute('data-url'), firstBtn, 'border-teal-500', 'text-teal-600');
            }
        }
    </script>
</body>
</html>